<!doctype html>
<html>
  <head>
    <title>SWFT | File Upload</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script>
      function clearInputs() {
        document.getElementById("file").value = "";
        document.getElementById("link").value = "";
      }
      function validateForm() {
        var fileInput = document.getElementById("file");

        if (!fileInput.files || fileInput.files.length === 0) {
          alert("Please select a file.");
          return false;
        }

        return true;
      }
      window.onload = clearInputs;
    </script>
  </head>

  <body>
    <form
      method="POST"
      action="/upload"
      enctype="multipart/form-data"
      class="w-full h-screen bg-gray-900 text-white flex flex-col items-center justify-center gap-12 text-5xl p-12"
      onsubmit="return validateForm()"
    >
      <h1 class="text-8xl font-semibold mb-24">Upload a File</h1>
      <div>
        <label
          for="file"
          class="bg-gray-500 text-white py-4 px-6 rounded-lg hover:bg-gray-600 cursor-pointer"
        >
          Select a file
        </label>
        <input
          type="file"
          name="file"
          id="file"
          style="display: none"
          required
        />
      </div>
      <div class="flex flex-col items-center gap-6 my-12 text-5xl">
        <label for="link" class="block">Custom link (optional):</label>
        <div class="flex">
          <span> https://{{ full_url }}/</span>
          <input
            type="text"
            name="link"
            id="link"
            value=""
            class="inline-block bg-gray-900 text-white rounded w-full focus:outline-none"
            style="border-bottom: 1px solid white"
          />
        </div>
      </div>
      <div>
        <input
          type="submit"
          value="Share"
          class="bg-blue-500 text-white py-4 px-6 rounded-lg hover:bg-blue-600 cursor-pointer"
        />
      </div>
    </form>
  </body>
</html>
