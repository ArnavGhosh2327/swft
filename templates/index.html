<!doctype html>
<html>
  <head>
    <title>SWFT | File Upload</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script>
      function clearInputs() {
        document.getElementById("file").value = "";
        document.getElementById("link").value = "";
        document.getElementById("time").value = "1800";
      }
      function validateForm() {
        var fileInput = document.getElementById("file");

        if (!fileInput.files || fileInput.files.length === 0) {
          alert("Please select a file.");
          return false;
        }

        return true;
      }
      function showFileUploaded() {
        alert("File uploaded successfully!");
      }
      window.onload = clearInputs;
    </script>
  </head>

  <body>
    <div
      class="fixed top-0 left-0 w-screen h-24 flex justify-center items-center text-6xl font-black text-center bg-gray-800 text-white p-4"
    >
      SWFT
    </div>
    <form
      method="POST"
      action="/upload"
      enctype="multipart/form-data"
      class="w-full h-screen bg-gray-900 text-white flex flex-col items-center justify-center gap-12 text-5xl p-12"
      onsubmit="return validateForm()"
    >
      <h1 class="text-8xl font-semibold mb-24">Upload a File</h1>
      <div>
        <label
          for="file"
          class="bg-gray-500 text-white py-4 px-6 rounded-lg hover:bg-gray-600 cursor-pointer"
        >
          Select a file
        </label>
        <input
          type="file"
          name="file"
          id="file"
          style="display: none"
          required
          onchange="showFileUploaded()"
        />
      </div>
      <div class="flex flex-col items-center gap-6 my-12 text-5xl">
        <label for="link" class="block">Custom link (optional):</label>
        <div class="flex">
          <span> {{ full_url }}/</span>
          <input
            type="text"
            name="link"
            id="link"
            value=""
            class="inline-block bg-gray-900 text-white rounded w-full focus:outline-none"
            style="border-bottom: 1px solid white"
          />
        </div>
      </div>
      <div class="flex items-center gap-4 text-5xl">
        <label for="expiry">Expiry:</label>
        <select
          name="time"
          id="time"
          class="appearance-none bg-gray-800 text-white rounded-lg w-full focus:outline-none p-4"
        >
          <option value="60">1 min</option>
          <option value="300">5 mins</option>
          <option value="600">10 mins</option>
          <option value="900">15 mins</option>
          <option value="1800" selected>30 mins</option>
          <option value="3600">1 hr</option>
          <option value="10800">3 hrs</option>
          <option value="43200">12 hrs</option>
          <option value="86400">1 day</option>
        </select>
      </div>
      <div>
        <input
          type="submit"
          value="Share"
          class="bg-blue-500 text-white py-4 px-6 rounded-lg hover:bg-blue-600 cursor-pointer"
        />
      </div>
    </form>
    <div
      class="fixed bottom-0 left-0 w-screen h-20 flex justify-center items-center text-xl text-center bg-gray-800 text-white p-2 mt-12"
    >
      Made with ❣️ by &nbsp;
      <a
        href="https://nnisarg.in"
        target="_blank"
        class="underline text-blue-500"
        >Nnisarg Gada</a
      >
    </div>
  </body>
</html>
